[{"/Users/winters/Documents/project/learn/fireworks/src/App.js":"1","/Users/winters/Documents/project/learn/fireworks/src/effect/Fireworks.js":"2","/Users/winters/Documents/project/learn/fireworks/src/effect/Rocket.js":"3","/Users/winters/Documents/project/learn/fireworks/src/effect/loop.js":"4","/Users/winters/Documents/project/learn/fireworks/src/effect/Particle.js":"5"},{"size":1799,"mtime":1612339037763,"results":"6","hashOfConfig":"7"},{"size":1749,"mtime":1612338795053,"results":"8","hashOfConfig":"7"},{"size":1910,"mtime":1612432864418,"results":"9","hashOfConfig":"7"},{"size":1813,"mtime":1612427355501,"results":"10","hashOfConfig":"7"},{"size":1526,"mtime":1612428484979,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"r7tlwd",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/winters/Documents/project/learn/fireworks/src/App.js",["23"],"import logo from './logo.svg';\nimport './App.css';\nimport Fireworks from './effect/Fireworks'\nimport React, {useRef, useState, useEffect} from 'react'\nfunction App() {\n\n  const [width, setWidth] = useState()\n  const [height, setHeight] = useState()\n  let fireworksWrapper = useRef()\n  let fireworks = useRef()\n\n  let timer\n  const resize = function() {\n    timer && clearTimeout(timer)\n\n    timer = setTimeout(() => {\n      if(width !== fireworksWrapper.current.offsetWidth || height !== fireworksWrapper.current.offsetHeight){\n        setWidth(fireworksWrapper.current.offsetWidth)\n        setHeight(fireworksWrapper.current.offsetHeight)\n      }\n    }, 200);\n  }\n  // 初始化宽高\n  useEffect(() => {\n    setWidth(fireworksWrapper.current.offsetWidth)\n    setHeight(fireworksWrapper.current.offsetHeight)\n  }, [fireworksWrapper])\n\n  const startHandler = () => {\n    fireworks.current.start()\n  }\n  const stopHandler = () => {\n    fireworks.current.stop()\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', () => {\n      resize()\n    })\n  }, [])\n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <button type=\"button\" onClick={startHandler} >\n          Start\n        </button>\n\n        <button type=\"button\" onClick={stopHandler} >\n          Stop\n        </button>\n\n        {/* Fireworks Layer */}\n        <div ref={fireworksWrapper} style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n        }}>\n          <Fireworks ref={fireworks} width={width} height={height}/>\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/winters/Documents/project/learn/fireworks/src/effect/Fireworks.js",[],"/Users/winters/Documents/project/learn/fireworks/src/effect/Rocket.js",[],"/Users/winters/Documents/project/learn/fireworks/src/effect/loop.js",[],"/Users/winters/Documents/project/learn/fireworks/src/effect/Particle.js",[],{"ruleId":"24","severity":1,"message":"25","line":40,"column":6,"nodeType":"26","endLine":40,"endColumn":8,"suggestions":"27"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'resize'. Either include it or remove the dependency array.","ArrayExpression",["28"],{"desc":"29","fix":"30"},"Update the dependencies array to be: [resize]",{"range":"31","text":"32"},[1048,1050],"[resize]"]